# True Love Base Configuration
# Copy this file to config.yaml and modify as needed

# Master user - nickname for notifications (wxauto uses nickname, not wxid)
master_wix: "your_friend_nickname"

# HTTP token for authentication with backend server
http_token: "your_secret_token"

# Chat listeners are stored in listen_chats.json (auto-created)
# Manage via HTTP API:
#   GET  /listen/list   - List all listeners
#   POST /listen/add    - Add listener {"chat_name": "xxx"}
#   POST /listen/remove - Remove listener {"chat_name": "xxx"}
#
# Or manually edit listen_chats.json: ["好友昵称", "群名称"]

# Logging configuration
logging:
  version: 1
  disable_existing_loggers: False

  formatters:
    simple:
      format: "%(asctime)s %(message)s"
      datefmt: "%Y-%m-%d %H:%M:%S"
    error:
      format: "%(asctime)s %(name)s %(levelname)s %(filename)s::%(funcName)s[%(lineno)d]:%(message)s"

  handlers:
    console:
      class: logging.StreamHandler
      level: INFO
      formatter: simple
      stream: ext://sys.stdout

    info_file_handler:
      class: logging.handlers.RotatingFileHandler
      level: INFO
      formatter: simple
      filename: logs/base_info.log
      maxBytes: 10485760 # 10MB
      backupCount: 20
      encoding: utf8

    error_file_handler:
      class: logging.handlers.RotatingFileHandler
      level: ERROR
      formatter: error
      filename: logs/base_error.log
      maxBytes: 10485760 # 10MB
      backupCount: 20
      encoding: utf8

  root:
    level: INFO
    handlers: [ console, info_file_handler, error_file_handler ]
